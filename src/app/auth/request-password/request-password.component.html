<nb-auth-block>
  <h2 class="title">¿Olvidaste la contraseña?</h2>
  <small class="form-text sub-title">¡No hay problema! Ingresa tu email para enviarte un correo con el enlace para restaurarla</small>
  <form (ngSubmit)="submitRequest()" [formGroup]="reqPassForm" novalidate>
    <div *ngIf="errors && errors.length > 0 && !submited"
         class="alert alert-danger" role="alert">
      <div><strong>¡Oh Changos!</strong></div>
      <div *ngFor="let error of errors">{{ error }}</div>
    </div>
    <div *ngIf="messages && messages.length > 0 && !submitted"
         class="alert alert-success" role="alert">
      <div><strong>¡Genial!</strong></div>
      <div *ngFor="let message of messages">{{ message }}</div>
    </div>
    <div class="form-group">
      <label for="input-email" class="sr-only">Ingrese su dirección de Email</label>
      <input type="email" formControlName="email"
            [class.form-control-danger]="email.touched && email.errors"
            class="form-control" placeholder="Email" autofocus>
      <div *ngIf="email.invalid && email.touched">
        <small class="form-text error" *ngIf="email.errors.required">
          ¡Se requiere un Email!
        </small>
        <small class="form-text error" *ngIf="email.errors.email">
          ¡Hey!, debe ser un Email real
        </small>
      </div>
    </div>
    <button [disabled]="submitted || !reqPassForm.valid" class="btn btn-block btn-hero-success"
            [class.btn-pulse]="submitted">
      Solicitar contraseña
    </button>
  </form>
  <div class="links col-sm-12">
    <small class="form-text">
      ¿Tienes una cuenta? <a routerLink="../login"><strong>Inicia sesión</strong></a>
    </small>
    <small class="form-text">
      ¿No tienes cuenta? <a routerLink="#"><strong>Habla con el administrador</strong></a>
    </small>
  </div>
</nb-auth-block>
